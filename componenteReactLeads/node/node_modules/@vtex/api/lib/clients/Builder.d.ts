/// <reference types="node" />
import { ZlibOptions } from 'zlib';
import { AppClient, InstanceOptions } from '../HttpClient';
import { IOContext } from '../service/typings';
import { Change } from './Apps';
import { File } from './Registry';
export declare class Builder extends AppClient {
    private stickyHost;
    constructor(ioContext: IOContext, opts?: InstanceOptions);
    availability: (app: string, hintIndex: number) => Promise<{
        host: string;
        hostname: string | undefined;
        score: number;
    }>;
    clean: (app: string) => Promise<BuildResult>;
    getPinnedDependencies: () => Promise<any>;
    linkApp: (app: string, files: File[], zipOptions?: ZipOptions, params?: RequestParams) => Promise<BuildResult>;
    publishApp: (app: string, files: File[], zipOptions?: ZipOptions, params?: RequestParams) => Promise<BuildResult>;
    relinkApp: (app: string, changes: Change[], params?: RequestParams) => Promise<BuildResult>;
    testApp: (app: string, files: File[], zipOptions?: ZipOptions, params?: RequestParams) => Promise<BuildResult>;
    private zipAndSend;
}
interface RequestParams {
    tsErrorsAsWarnings?: boolean;
    skipSemVerEnsure?: boolean;
}
interface ZipOptions {
    sticky?: boolean;
    stickyHint?: string;
    tag?: string;
    zlib?: ZlibOptions;
}
export interface BuildResult {
    availability?: AvailabilityResponse;
    code?: string;
    message?: any;
    timeNano?: number;
}
export interface AvailabilityResponse {
    host: string | undefined;
    hostname: string | undefined;
    score: number;
}
export {};
