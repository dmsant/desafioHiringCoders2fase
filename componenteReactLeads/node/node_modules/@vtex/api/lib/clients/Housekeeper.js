"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const HttpClient_1 = require("../HttpClient");
const createRoutes = ({ account, workspace }) => {
    const routes = {
        Apply: () => `v2/housekeeping/apply`,
        Perform: () => `v2/_housekeeping/perform`,
        Resolve: () => `v2/housekeeping/resolve`,
    };
    return routes;
};
class Housekeeper extends HttpClient_1.InfraClient {
    constructor(context, options) {
        super('housekeeper@0.x', context, options);
        this.apply = async (data) => this.http.post(this.routes.Apply(), data, { metric: 'housekeeper-apply' });
        this.perform = async () => this.http.post(this.routes.Perform(), {}, { metric: 'housekeeper-perform' });
        this.resolve = async () => this.http.get(this.routes.Resolve(), { metric: 'housekeeper-resolve' });
        this._routes = createRoutes(context);
    }
    get routes() {
        return this._routes;
    }
}
exports.Housekeeper = Housekeeper;
