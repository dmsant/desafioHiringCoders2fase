export interface Metric {
    name: string;
    [key: string]: number | string | null;
}
interface NamedMetric {
    name: string;
    [key: string]: any;
}
export interface EnvMetric extends NamedMetric {
    production: boolean;
}
interface GetStats {
    getStats(): {
        [key: string]: number | boolean | string | undefined;
    };
}
export declare type StatusTrack = () => EnvMetric[];
export declare class MetricsAccumulator {
    private metricsMillis;
    private extensions;
    private cacheMap;
    private onFlushMetrics;
    constructor();
    /**
     * @deprecated in favor of MetricsAccumulator.batch(name, diffNs, cacheHit)
     * @see batch
     */
    batchHrTimeMetricFromEnd: (name: string, end?: [number, number] | undefined) => void;
    /**
     * @deprecated in favor of MetricsAccumulator.batch(name, diffNs, cacheHit)
     * @see batch
     */
    batchHrTimeMetric: (name: string, start: [number, number]) => void;
    batchMetric: (name: string, timeMillis?: number | undefined, extensions?: Record<string, string | number> | undefined) => void;
    /**
     * Batches a named metric which took `diffNs`.
     *
     * @param name Metric label.
     * @param diffNs The result of calling process.hrtime() passing a previous process.hrtime() value.
     * @param extensions Any other relevant properties of this metric.
     *
     * @see https://nodejs.org/api/process.html#process_process_hrtime_time
     */
    batch: (name: string, diffNs?: [number, number] | undefined, extensions?: Record<string, string | number> | undefined) => void;
    addOnFlushMetric: (metricFn: () => Metric | Metric[]) => void;
    trackCache: (name: string, cacheInstance: GetStats) => void;
    statusTrack: () => EnvMetric[];
    private metricToAggregate;
    private cacheToMetric;
    private flushMetrics;
}
export {};
